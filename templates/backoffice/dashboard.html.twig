{% extends 'backoffice/base.html.twig' %}

{% block title %}Dashboard - EvenTopia{% endblock %}

{% block stylesheets %}
<style>
    .small-box {
        position: relative;
        padding: 20px;
        margin-bottom: 20px;
        border-radius: 5px;
        color: white;
    }
    .small-box .inner {
        padding: 10px;
    }
    .small-box .icon {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 50px;
        opacity: 0.3;
    }
    .small-box .small-box-footer {
        position: relative;
        text-align: center;
        padding: 3px 0;
        color: white;
        display: block;
        text-decoration: none;
        background: rgba(0,0,0,0.1);
    }
    .bg-info { background-color: #17a2b8!important; }
    .bg-success { background-color: #28a745!important; }
    .bg-warning { background-color: #ffc107!important; }
    .bg-danger { background-color: #dc3545!important; }
</style>
{% endblock %}

{% block body %}
<div class="app-content-header">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-6"><h3 class="mb-0">Dashboard</h3></div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-end">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<div class="app-content">
    <div class="container-fluid">
        <div class="row">
            <!-- Posts Card -->
            <div class="col-lg-3 col-6">
                <div class="small-box bg-info">
                    <div class="inner">
                        <h3>{% if posts is defined %}{{ posts|length }}{% else %}0{% endif %}</h3>
                        <p>Posts</p>
                    </div>
                    <div class="icon">
                        <i class="bi bi-newspaper"></i>
                    </div>
                    <a href="{{ path('admin_blog_index') }}" class="small-box-footer">
                        Plus d'infos <i class="bi bi-arrow-right-circle"></i>
                    </a>
                </div>
            </div>

            <!-- Services Card -->
            <div class="col-lg-3 col-6">
                <div class="small-box bg-success">
                    <div class="inner">
                        <h3>{% if services is defined %}{{ services|length }}{% else %}0{% endif %}</h3>
                        <p>Services</p>
                    </div>
                    <div class="icon">
                        <i class="bi bi-briefcase"></i>
                    </div>
                    <a href="{{ path('app_backoffice_service_index') }}" class="small-box-footer">
                        Plus d'infos <i class="bi bi-arrow-right-circle"></i>
                    </a>
                </div>
            </div>

            <!-- Signalements Card -->
            <div class="col-lg-3 col-6">
                <div class="small-box bg-warning">
                    <div class="inner">
                        <h3>{% if signalements is defined %}{{ signalements|length }}{% else %}0{% endif %}</h3>
                        <p>Signalements</p>
                    </div>
                    <div class="icon">
                        <i class="bi bi-flag"></i>
                    </div>
                    <a href="{{ path('app_backoffice_signalement_post_index') }}" class="small-box-footer">
                        Plus d'infos <i class="bi bi-arrow-right-circle"></i>
                    </a>
                </div>
            </div>

            <!-- Codes Promos Card -->
            <div class="col-lg-3 col-6">
                <div class="small-box bg-danger">
                    <div class="inner">
                        <h3>{% if code_promos is defined %}{{ code_promos|length }}{% else %}0{% endif %}</h3>
                        <p>Codes Promos</p>
                    </div>
                    <div class="icon">
                        <i class="bi bi-ticket-perforated"></i>
                    </div>
                    <a href="{{ path('app_backoffice_code_promos_index') }}" class="small-box-footer">
                        Plus d'infos <i class="bi bi-arrow-right-circle"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

{# Debug information #}
{% if app.debug %}
    <div class="container-fluid mt-4">
        <div class="alert alert-info">
            <h4>Debug Information:</h4>
            <ul>
                <li>Posts defined: {% if posts is defined %}yes{% else %}no{% endif %}</li>
                <li>Services defined: {% if services is defined %}yes{% else %}no{% endif %}</li>
                <li>Signalements defined: {% if signalements is defined %}yes{% else %}no{% endif %}</li>
                <li>Code Promos defined: {% if code_promos is defined %}yes{% else %}no{% endif %}</li>
            </ul>
        </div>
    </div>
{% endif %}
{% endblock %}